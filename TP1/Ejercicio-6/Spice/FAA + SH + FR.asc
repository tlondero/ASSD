Version 4
SHEET 1 2096 852
WIRE 1152 -640 256 -640
WIRE 256 -480 256 -640
WIRE 1152 -480 1152 -640
WIRE 1152 -480 256 -480
WIRE -848 -224 -848 -304
WIRE 144 -192 -48 -192
WIRE 624 -192 432 -192
WIRE -848 -112 -848 -144
WIRE 1472 -112 1280 -112
WIRE -48 -96 -48 -192
WIRE 16 -96 -48 -96
WIRE 432 -96 432 -192
WIRE 496 -96 432 -96
WIRE 144 -80 144 -192
WIRE 144 -80 80 -80
WIRE 624 -80 624 -192
WIRE 624 -80 560 -80
WIRE 16 -64 -80 -64
WIRE 144 -64 144 -80
WIRE 272 -64 144 -64
WIRE 496 -64 432 -64
WIRE 624 -64 624 -80
WIRE 672 -64 624 -64
WIRE 1008 -64 672 -64
WIRE 1008 -32 928 -32
WIRE 1280 -16 1280 -112
WIRE 1344 -16 1280 -16
WIRE 1008 0 752 0
WIRE 1472 0 1472 -112
WIRE 1472 0 1408 0
WIRE -848 16 -848 0
WIRE 1232 16 1200 16
WIRE 1280 16 1232 16
WIRE 1344 16 1280 16
WIRE 1472 16 1472 0
WIRE 1648 16 1472 16
WIRE 1904 16 1808 16
WIRE 1008 32 816 32
WIRE 816 64 816 32
WIRE 1008 64 928 64
WIRE 1008 96 928 96
WIRE -848 128 -848 96
WIRE 752 160 752 0
WIRE 816 160 816 128
WIRE -848 240 -848 208
WIRE -80 368 -80 320
WIRE 1200 464 1200 416
WIRE 1376 464 1376 416
WIRE -80 512 -80 448
WIRE 320 608 320 560
WIRE 848 608 848 560
WIRE 1024 608 1024 560
WIRE 1200 608 1200 544
WIRE 1376 608 1376 544
WIRE 320 752 320 688
WIRE 848 752 848 688
WIRE 1024 752 1024 688
FLAG -80 -64 Vin
FLAG 1904 16 Vout
FLAG 928 96 VCC
FLAG 928 64 -VCC
FLAG 816 160 0
FLAG 928 -32 Tpulsos
FLAG 752 160 0
FLAG -80 512 0
FLAG -848 -112 0
FLAG -848 240 0
FLAG 320 560 Tpulsos
FLAG 320 752 0
FLAG 848 752 0
FLAG 848 560 VCC
FLAG 1200 608 0
FLAG 1200 416 buffvcc
FLAG 1376 416 0
FLAG 1376 608 -buffvcc
FLAG 1024 560 0
FLAG 1024 752 -VCC
FLAG 48 -112 buffvcc
FLAG 48 -48 -buffvcc
FLAG 528 -112 buffvcc
FLAG 528 -48 -buffvcc
FLAG 1376 -32 buffvcc
FLAG 1376 32 -buffvcc
FLAG 1232 96 0
FLAG 1280 80 0
FLAG 672 0 0
FLAG -848 -304 Vin
SYMBOL FAA 352 -64 R0
SYMATTR InstName X1
SYMBOL FAA 1728 16 R0
SYMATTR InstName X2
SYMBOL LF398 1072 -16 R0
WINDOW 0 11 114 Left 0
SYMATTR InstName U1
SYMBOL cap 800 64 R0
SYMATTR InstName C1
SYMATTR Value 4n
SYMBOL voltage -80 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PWL file=sin32corta.pwl
SYMBOL voltage -848 -240 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR Value2 AC 1
SYMATTR Value SINE(0 {Ap} {fin} 0 0 90)
SYMATTR InstName V8
SYMBOL voltage -848 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PULSE(0 {Ap} 0 {triangle_trise} {triangle_trise} {triangle_ton} {triangle_tperiod} 0)
SYMBOL voltage -848 112 R180
WINDOW 3 -539 51 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 {Ap} {triangle_tdelay} {triangle_trise} {triangle_trise} {triangle_ton} {triangle_tperiod} 0)
SYMATTR InstName V10
SYMBOL voltage 320 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 0 0.01n 0.01n {BOOTYCYCLE} {ts} 500)
SYMBOL voltage 848 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {LLAVEVCC}
SYMBOL voltage 1024 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value {LLAVEVCC}
SYMBOL voltage 1200 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V11
SYMATTR Value {BUFFVCC}
SYMBOL voltage 1376 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V12
SYMATTR Value {BUFFVCC}
SYMBOL Opamps\\opamp2 48 -144 R0
SYMATTR InstName U3
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 528 -144 R0
SYMATTR InstName U4
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 1376 -64 R0
SYMATTR InstName U5
SYMATTR Value TL084
SYMBOL cap 656 -64 R0
SYMATTR InstName C2
SYMATTR Value {CAP}
SYMBOL cap 1264 16 R0
SYMATTR InstName C3
SYMATTR Value {CAP}
SYMBOL res 1216 0 R0
SYMATTR InstName R1
SYMATTR Value {PULLDOWNR}
TEXT -280 -264 Left 2 !;.ac dec 500 1 10k
TEXT -280 -240 Left 2 !.include LF398.sub
TEXT -280 -296 Left 2 !.tran 0 4m 1m 0.01 uic
TEXT 592 -552 Left 2 !.param DT = 50
TEXT 592 -512 Left 2 !.param Ap = 1
TEXT 360 -552 Left 2 !.param fs = 25k
TEXT 360 -512 Left 2 !.param fin=1.5k
TEXT 264 -616 Left 2 !;USER INPUT:
TEXT 472 -624 Left 2 !.param BUFFVCC = 18
TEXT 472 -600 Left 2 !.param LLAVEVCC = 16
TEXT 824 -552 Left 2 !.param PULLDOWNR = 5k
TEXT 824 -512 Left 2 !.param CAP = .05n
TEXT -1112 -472 Left 2 !.param BOOTYCYCLE = ({ts}) - ((1-({DT}/100))*{ts})
TEXT -952 -752 Left 2 !.param triangle_trise=0.25*(1/{fin})
TEXT -888 -736 Left 2 !.param triangle_tdelay = 0.5*(1/{fin})
TEXT -880 -720 Left 2 !.param triangle_ton = 0
TEXT -904 -704 Left 2 !.param triangle_tperiod = 1 / {fin}
TEXT -896 -688 Left 2 !.param ts = 1/{fs}
TEXT -992 -448 Left 2 !.include TL084.301
