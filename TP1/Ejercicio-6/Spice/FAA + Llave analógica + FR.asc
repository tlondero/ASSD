Version 4
SHEET 1 1928 964
WIRE 1360 -448 464 -448
WIRE 464 -288 464 -448
WIRE 1360 -288 1360 -448
WIRE 1360 -288 464 -288
WIRE -80 -192 -272 -192
WIRE 512 -192 320 -192
WIRE 1040 -192 848 -192
WIRE -272 -96 -272 -192
WIRE -208 -96 -272 -96
WIRE 320 -96 320 -192
WIRE 384 -96 320 -96
WIRE 624 -96 624 -144
WIRE 848 -96 848 -192
WIRE 912 -96 848 -96
WIRE -80 -80 -80 -192
WIRE -80 -80 -144 -80
WIRE 512 -80 512 -192
WIRE 512 -80 448 -80
WIRE 1040 -80 1040 -192
WIRE 1040 -80 976 -80
WIRE -208 -64 -320 -64
WIRE -80 -64 -80 -80
WIRE 16 -64 -80 -64
WIRE 384 -64 176 -64
WIRE 512 -64 512 -80
WIRE 592 -64 512 -64
WIRE 720 -64 656 -64
WIRE 800 -64 720 -64
WIRE 912 -64 800 -64
WIRE 1040 -64 1040 -80
WIRE 1120 -64 1040 -64
WIRE 1136 -64 1120 -64
WIRE 1376 -64 1280 -64
WIRE 592 -32 560 -32
WIRE 720 -32 720 -64
WIRE 624 32 624 0
WIRE -1024 48 -1024 -32
WIRE 720 64 720 48
WIRE -1024 160 -1024 128
WIRE -256 192 -256 144
WIRE -1024 288 -1024 272
WIRE -256 336 -256 272
WIRE 1088 368 1088 320
WIRE 1264 368 1264 320
WIRE -1024 400 -1024 368
WIRE -1024 512 -1024 480
WIRE 208 512 208 464
WIRE 736 512 736 464
WIRE 912 512 912 464
WIRE 1088 512 1088 448
WIRE 1264 512 1264 448
WIRE 208 656 208 592
WIRE 736 656 736 592
WIRE 912 656 912 592
FLAG -1024 160 0
FLAG 560 -32 Tpulsos
FLAG 208 464 Tpulsos
FLAG 208 656 0
FLAG 736 656 0
FLAG 736 464 VCC
FLAG 624 -144 VCC
FLAG 624 32 -VCC
FLAG 1376 -64 Vout
FLAG -1024 512 0
FLAG 720 64 0
FLAG -256 336 0
FLAG -320 -64 Vin
FLAG 800 0 0
FLAG 1088 512 0
FLAG 1088 320 buffvcc
FLAG -176 -112 buffvcc
FLAG 416 -112 buffvcc
FLAG 944 -112 buffvcc
FLAG -176 -48 -buffvcc
FLAG 416 -48 -buffvcc
FLAG 944 -48 -buffvcc
FLAG 1264 320 0
FLAG 1264 512 -buffvcc
FLAG 912 464 0
FLAG 912 656 -VCC
FLAG -1024 -32 Vin
SYMBOL FAA 96 -64 R0
SYMATTR InstName X1
SYMBOL voltage -1024 32 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR Value2 AC 1
SYMATTR Value SINE(0 {Ap} {fin} 0 0 90)
SYMATTR InstName V1
SYMBOL cd4066 624 -48 R0
SYMATTR InstName U1
SYMBOL voltage 208 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0 0.01n 0.01n {BOOTYCYCLE} {ts} 500)
SYMBOL voltage 736 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {LLAVEVCC}
SYMBOL voltage 912 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {LLAVEVCC}
SYMBOL FAA 1200 -64 R0
SYMATTR InstName X2
SYMBOL voltage -1024 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 {Ap} 0 {triangle_trise} {triangle_trise} {triangle_ton} {triangle_tperiod} 0)
SYMBOL voltage -1024 384 R180
WINDOW 3 -539 51 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 {Ap} {triangle_tdelay} {triangle_trise} {triangle_trise} {triangle_ton} {triangle_tperiod} 0)
SYMATTR InstName V6
SYMBOL res 704 -48 R0
SYMATTR InstName R1
SYMATTR Value {PULLDOWNR}
SYMBOL voltage -256 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PWL file=sin32corta.pwl
SYMBOL Opamps\\opamp2 -176 -144 R0
SYMATTR InstName U3
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 416 -144 R0
SYMATTR InstName U4
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 944 -144 R0
SYMATTR InstName U5
SYMATTR Value TL084
SYMBOL cap 784 -64 R0
SYMATTR InstName C1
SYMATTR Value {CAP}
SYMBOL voltage 1088 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {BUFFVCC}
SYMBOL voltage 1264 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value {BUFFVCC}
TEXT -792 -200 Left 2 !;ac dec 10000 1 100k
TEXT -792 -176 Left 2 !.include cd4066.sub
TEXT -792 -232 Left 2 !.tran 0 5m 2m 0.01m uic
TEXT 104 176 Left 2 !;.model SW SW(Ron=1 Roff=1Meg Vt=4.5 Vh=-3.6)
TEXT -800 -136 Left 2 !.include tl084.301
TEXT -984 -264 Left 2 !.param BOOTYCYCLE = ({ts}) - ((1-({DT}/100))*{ts})
TEXT 800 -360 Left 2 !.param DT = 10
TEXT 800 -320 Left 2 !.param Ap = 5
TEXT 568 -360 Left 2 !.param fs = 15k
TEXT 568 -320 Left 2 !.param fin=1.5k
TEXT 472 -424 Left 2 !;USER INPUT:
TEXT 680 -432 Left 2 !.param BUFFVCC = 18
TEXT 680 -408 Left 2 !.param LLAVEVCC = 18
TEXT 1032 -360 Left 2 !.param PULLDOWNR = 10k
TEXT 1032 -320 Left 2 !.param CAP = .1n
TEXT -824 -544 Left 2 !.param triangle_trise=0.25*(1/{fin})
TEXT -760 -528 Left 2 !.param triangle_tdelay = 0.5*(1/{fin})
TEXT -752 -512 Left 2 !.param triangle_ton = 0
TEXT -776 -496 Left 2 !.param triangle_tperiod = 1 / {fin}
TEXT -768 -480 Left 2 !.param ts = 1/{fs}
