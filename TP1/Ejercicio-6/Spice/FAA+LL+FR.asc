Version 4
SHEET 1 2616 964
WIRE -560 -784 -560 -800
WIRE 1056 -752 1056 -800
WIRE -560 -672 -560 -704
WIRE -832 -608 -832 -656
WIRE 1056 -608 1056 -672
WIRE -560 -560 -560 -592
WIRE -1072 -544 -1072 -576
WIRE -832 -464 -832 -528
WIRE 1008 -448 112 -448
WIRE 112 -288 112 -448
WIRE 1008 -288 1008 -448
WIRE 1008 -288 112 -288
WIRE 384 -208 192 -208
WIRE 976 -208 784 -208
WIRE 1504 -208 1312 -208
WIRE 192 -112 192 -208
WIRE 256 -112 192 -112
WIRE 784 -112 784 -208
WIRE 848 -112 784 -112
WIRE 1088 -112 1088 -160
WIRE 1312 -112 1312 -208
WIRE 1376 -112 1312 -112
WIRE 384 -96 384 -208
WIRE 384 -96 320 -96
WIRE 976 -96 976 -208
WIRE 976 -96 912 -96
WIRE 1504 -96 1504 -208
WIRE 1504 -96 1440 -96
WIRE 256 -80 144 -80
WIRE 384 -80 384 -96
WIRE 480 -80 384 -80
WIRE 848 -80 640 -80
WIRE 976 -80 976 -96
WIRE 1024 -80 976 -80
WIRE 1056 -80 1024 -80
WIRE 1184 -80 1120 -80
WIRE 1248 -80 1248 -112
WIRE 1248 -80 1184 -80
WIRE 1376 -80 1248 -80
WIRE 1504 -80 1504 -96
WIRE 1584 -80 1504 -80
WIRE 1600 -80 1584 -80
WIRE 1840 -80 1744 -80
WIRE 1056 -48 1024 -48
WIRE 1184 -48 1184 -80
WIRE 1088 16 1088 -16
WIRE 1184 48 1184 32
WIRE 832 144 832 96
WIRE 432 160 432 112
WIRE 256 192 256 144
WIRE 640 208 640 160
WIRE 832 288 832 224
WIRE 432 304 432 240
WIRE 256 336 256 272
WIRE 640 352 640 288
FLAG 1024 -48 Tpulsos
FLAG 1056 -800 Tpulsos
FLAG 1056 -608 0
FLAG 256 336 0
FLAG 256 144 VCC
FLAG 1088 -160 VCC
FLAG 1088 16 -VCC
FLAG 1840 -80 Vout
FLAG 1184 48 0
FLAG 144 -80 Vin
FLAG 640 352 0
FLAG 640 160 buffvcc
FLAG 288 -128 buffvcc
FLAG 880 -128 buffvcc
FLAG 1408 -128 buffvcc
FLAG 288 -64 -buffvcc
FLAG 880 -64 -buffvcc
FLAG 1408 -64 -buffvcc
FLAG 832 96 0
FLAG 832 288 -buffvcc
FLAG 432 112 0
FLAG 432 304 -VCC
FLAG 1024 -16 0
FLAG 1248 -176 0
FLAG -832 -464 0
FLAG -560 -560 0
FLAG -1072 -464 0
FLAG -560 -800 Vin
SYMBOL FAA 560 -80 R0
SYMATTR InstName X1
SYMBOL cd4066 1088 -64 R0
SYMATTR InstName U1
SYMBOL voltage 1056 -768 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0 0.01n 0.01n {DOOTYCYCLE} {ts} 500)
SYMBOL voltage 256 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {LLAVEVCC}
SYMBOL voltage 432 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {LLAVEVCC}
SYMBOL FAA 1664 -80 R0
SYMATTR InstName X2
SYMBOL res 1168 -64 R0
SYMATTR InstName R1
SYMATTR Value {PULLDOWNR}
SYMBOL Opamps\\opamp2 288 -160 R0
SYMATTR InstName U3
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 880 -160 R0
SYMATTR InstName U4
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 1408 -160 R0
SYMATTR InstName U5
SYMATTR Value TL084
SYMBOL cap 1232 -176 R0
SYMATTR InstName C1
SYMATTR Value {CAP}
SYMBOL voltage 640 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {BUFFVCC}
SYMBOL voltage 832 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value {BUFFVCC}
SYMBOL cap 1008 -80 R0
SYMATTR InstName C2
SYMATTR Value 1p
SYMBOL voltage -832 -624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PWL file=sin32corta15750.pwl
SYMBOL voltage -560 -688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE(0 {Ap} 0 {triangle_trise} {triangle_trise} {triangle_ton} {triangle_tperiod} 0)
SYMBOL voltage -560 -688 R180
WINDOW 3 -539 51 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 {Ap} {triangle_tdelay} {triangle_trise} {triangle_trise} {triangle_ton} {triangle_tperiod} 0)
SYMATTR InstName V7
SYMBOL voltage -1072 -560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.001 Cpar=0.1p
SYMATTR InstName V10
SYMATTR Value SINE(0 {Ap} {fin})
TEXT 1240 280 Left 2 !;ac dec 10000 1 100k
TEXT 1240 304 Left 2 !.include cd4066.sub
TEXT 1240 256 Left 2 !.tran 0 3m 1.66m uic
TEXT 1240 328 Left 2 !.include tl084.301
TEXT 1240 232 Left 2 !.param DOOTYCYCLE = ({ts}) - ((1-({DT}/100))*{ts})
TEXT 448 -360 Left 2 !.param DT = 50
TEXT 448 -320 Left 2 !.param Ap = 5
TEXT 216 -360 Left 2 !.param fs = 15.75k
TEXT 216 -320 Left 2 !.param fin=15750
TEXT 120 -424 Left 2 !;USER INPUT:
TEXT 328 -432 Left 2 !.param BUFFVCC = 18
TEXT 328 -408 Left 2 !.param LLAVEVCC = 18
TEXT 680 -360 Left 2 !.param PULLDOWNR = 10k
TEXT 680 -320 Left 2 !.param CAP = 10p
TEXT 1240 112 Left 2 !.param triangle_trise=0.25*(1/{fin})
TEXT 1240 136 Left 2 !.param triangle_tdelay = 0.5*(1/{fin})
TEXT 1240 160 Left 2 !.param triangle_ton = 0
TEXT 1240 184 Left 2 !.param triangle_tperiod = 1 / {fin}
TEXT 1240 208 Left 2 !.param ts = 1/{fs}
TEXT 1240 352 Left 2 !;.step param amp 1 5 0.5
TEXT 1240 376 Left 2 !;.step param freqs 20k 25k 250
TEXT 1240 400 Left 2 !;.step param dts 5 50 5
TEXT -248 64 Left 2 !;.save V(vin) V(vout)
TEXT -376 -688 Left 2 !;.step lin param amp 1 5 0.5
TEXT -376 -664 Left 2 !;.step param freqs 20k 25k 250
TEXT -376 -640 Left 2 !;.step param dts 5 50 5
